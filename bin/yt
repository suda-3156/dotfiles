#!/bin/sh
#
# From: https://github.com/holman/dotfiles/blob/master/bin/yt
#
# Downloads the embedded video on any web page straight to the desktop.
#
# youtube-dlp, which is awesome:
#   https://github.com/yt-dlp/yt-dlp
#
# `pip install -U "yt-dlp[default]"` to install (See: https://github.com/yt-dlp/yt-dlp/wiki/Installation)

mkdir -p ~/Desktop/yt

# cd ~/Desktop/yt && yt-dlp -S "ext" "$1" --embed-thumbnail # Videos canâ€™t be played on QuickTime Player on Mac.
# Solutions: https://www.reddit.com/r/youtubedl/comments/15vfdqs/ytdlp_mac_quicktime_player
cd ~/Desktop/yt && yt-dlp -f "bv*[ext=mp4][vcodec^=avc]+ba[ext=m4a]/b[ext=mp4] / bv*+ba/b" "$1" --embed-thumbnail
# cd ~/Desktop/yt && yt-dlp -S vcodec:h264,res,acodec:m4a --no-mtime "$1" --embed-thumbnail
